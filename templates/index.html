<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Player Performance Predictor</title>
    <script>
        function addData() {
            const player = document.getElementById("player").value;
            const pastPoints = document.getElementById("past_points").value;
            const teamStrength = document.getElementById("team_strength").value;
            const opponentRank = document.getElementById("opponent_rank").value;
            const futurePoints = document.getElementById("future_points").value;

            fetch("/add_data", {
                method: "POST",
                headers: { "Content-Type": "application/x-www-form-urlencoded" },
                body: new URLSearchParams({
                    player: player,
                    past_points: pastPoints,
                    team_strength: teamStrength,
                    opponent_rank: opponentRank,
                    future_points: futurePoints
                })
            })
            .then((response) => response.json())
            .then((data) => alert(data.message));
        }

        function trainModel() {
            fetch("/train_model", {
                method: "POST"
            })
            .then((response) => response.json())
            .then((data) => alert(data.message));
        }

        function predictPerformance() {
            const pastPoints = document.getElementById("predict_past_points").value;
            const teamStrength = document.getElementById("predict_team_strength").value;
            const opponentRank = document.getElementById("predict_opponent_rank").value;

            fetch("/predict", {
                method: "POST",
                headers: { "Content-Type": "application/x-www-form-urlencoded" },
                body: new URLSearchParams({
                    past_points: pastPoints,
                    team_strength: teamStrength,
                    opponent_rank: opponentRank
                })
            })
            .then((response) => response.json())
            .then((data) => {
                if (data.status === "success") {
                    alert(`Predicted Future Points: ${data.prediction}`);
                } else {
                    alert(data.message);
                }
            });
        }
    </script>
</head>
<body>
    <h1>Player Performance Predictor</h1>

    <h2>Add Training Data</h2>
    <label>Player: <input type="text" id="player"></label><br>
    <label>Past Points: <input type="number" id="past_points"></label><br>
    <label>Team Strength (1-10): <input type="number" id="team_strength"></label><br>
    <label>Opponent Rank (1-10): <input type="number" id="opponent_rank"></label><br>
    <label>Future Points: <input type="number" id="future_points"></label><br>
    <button onclick="addData()">Add Data</button>

    <h2>Train Model</h2>
    <button onclick="trainModel()">Train Model</button>

    <h2>Predict Future Performance</h2>
    <label>Past Points: <input type="number" id="predict_past_points"></label><br>
    <label>Team Strength (1-10): <input type="number" id="predict_team_strength"></label><br>
    <label>Opponent Rank (1-10): <input type="number" id="predict_opponent_rank"></label><br>
    <button onclick="predictPerformance()">Predict</button>
</body>
</html>
